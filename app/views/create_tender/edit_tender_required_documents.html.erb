<%= form_with model: @request_for_tender,
              scope: :request_for_tender,
              url: update_tender_required_documents_path(@request_for_tender),
              method: :patch,
              local: true,
              id: 'request-form' do |form| %>

  <%= render 'create_tender/create_tender_navigation', location: 'top', request_for_tender: @request_for_tender, form: form %>

  <%= render 'request_for_tender_errors' %>

  <div class="form-row mb-5">
    <div class="col-md-6">
      <div class="form-group">
        <%= form.label :tender_instructions, 'Required Documents', class: 'pb-0 mb-0'  %>
        <small class="form-text text-muted mb-3">
          Please add the documents you want the contractor to submit as part of their tender
        </small>
        <ul class="list-group list-group-flush nested-forms">
          <%= form.fields_for :required_documents do |required_document| %>
            <%= render 'required_document_fields', f: required_document %>
          <% end %>
          <li class="d-flex w-100 justify-content-between">
            <%= link_to_add_association 'Add another required document', form, :required_documents,
                                        class: 'btn btn-sm btn-block btn-primary' %>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="col-md-12">
      <div class="form-group">
        <%= form.label :tender_instructions, class: 'pb-0 mb-0' %>
        <small class="form-text text-muted mb-3">
          Please enter the details of how contractors should tender for this project,
          which may include bid security, class, etc
        </small>
        <%= form.trix_editor :tender_instructions, { id: :request_for_tender_tender_instructions,
                             class: 'form-control form-control-sm' } %>
      </div>
    </div>
  </div>


  <%= render 'create_tender/create_tender_navigation', location: 'bottom', request_for_tender: @request_for_tender, form: form %>
<% end %>