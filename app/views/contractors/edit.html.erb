<% content_for :breadcrumbs do %>
  <li class="breadcrumb-item">
    <a href="<%= contractor_root_path %>">
      Home
    </a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    Account Information
  </li>
<% end %>

<div class="container">
  <div class="row">
    <div class="col-lg-8 mx-auto mb-5 mt-5">
      <h3 class="mb-4">Account Information</h3>
      <hr>

      <div class="mb-5">
        <%= form_with(model: current_contractor, local: true) do |f| %>

          <div class="form-group row">
            <%= f.label :full_name, class: 'col-sm-3 col-form-label' %>

            <div class="col-sm-9">
              <%= f.text_field :full_name, id: :contractor_full_name, placeholder: 'Your name', autofocus: true, class: 'form-control', required: true %>
            </div>
          </div>

          <div class="form-group row">
            <%= f.label :email, class: 'col-sm-3 col-form-label' %>

            <div class="col-sm-9">
              <%= f.email_field :email, id: :contractor_email, autofocus: true, class: 'form-control' %>
            </div>
          </div>

          <div class="form-group row">
            <%= f.label :phone_number, class: 'col-sm-3 col-form-label' %>

            <div class="col-sm-9">
              <%= f.telephone_field :phone_number, id: :contractor_phone_number, placeholder: :phone_number, autocomplete: "on", class: 'form-control', required: true %>
            </div>
          </div>

          <div class="form-group row">
            <%= f.label :company_name, class: 'col-sm-3 col-form-label' %>

            <div class="col-sm-9">
              <%= f.text_field :company_name, id: :contractor_company_name, placeholder: :company_name, autocomplete: "on", class: 'form-control', required: true %>
            </div>
          </div>

          <div class="form-group row">
            <%= f.label :company_logo, class: 'col-sm-3 col-form-label' %>

            <div class="col-sm-9">
              <% if f.object.company_logo? %>
                <img class="img-fluid mb-2" id="company_logo_image" style="height: 100px;"
                     src="<%= f.object.company_logo.url %>" alt="<%= f.object.company_logo.file.filename %>">
                <%= f.file_field :company_logo, id: :contractor_company_logo, placeholder: :company_logo, class: 'form-control-file' %>
              <% else %>
                <%= f.file_field :company_logo, id: :contractor_company_logo, placeholder: :company_logo, class: 'form-control-file', required: true %>
              <% end %>
            </div>
          </div>

          <div class="actions d-flex w-100 justify-content-end">
            <%= f.submit 'Update Account Information', class: 'btn btn-primary' %>
          </div>

        <% end %>
      </div>


      <div class="mb-5">
        <h3>Change Password</h3>
        <hr>
        <a href="<%= edit_contractor_registration_path(current_contractor) %>">Change Password</a>
      </div>

      <div class="mb-5">
        <h3>Delete account</h3>
        <hr>

        <p>Want to delete your account? <br>
          <small>Be careful, this action is not reversible.</small>
        </p>
        <%= button_to 'Delete my account', registration_path(current_contractor),
                      class: 'btn btn-danger',
                      data: {confirm: 'Are you sure?'}, method: :delete %>
      </div>

    </div>
  </div>
</div>